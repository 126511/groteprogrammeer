{% extends "home/userlayout.html" %}

{% block title %} {{file.title }} {% endblock %}

{% block body %}

<script type="text/javascript">
    function getdocs(term) {
        const docs = document.getElementById("docs").value;
        o = JSON.parse(`${docs}`)
        const text = o[`${term}`]
        document.querySelector("#documentation").innerHTML = text

        const documentation = document.getElementById("sidebar")
        documentation.style.display = "block";
        const lesson = document.getElementById("lesson")
        lesson.style.width = "75%";
    }
    function gaweg() {
        const d = document.getElementById("sidebar");
        d.style.display = "none";
        const l = document.getElementById("lesson");
        l.style.width = "100%";
    }

</script>
<style>
    #documentation {
        padding: 10px;
    }

    #sidebar {
        width: 35%;
    }

    .button {
        font-weight: bold;
        background-color: transparent;
        border: 0px;
        font-family: 'Times New Roman', Times, serif;
        font-size: 16px;
    }
    #footer {
        position: absolute;
        bottom: 10px;
        right: 10px;
        left: auto;
        top: auto;
}
</style>
<div style="display: flex; height: 100%">
    <div id="lesson">
        {% autoescape off %}
            {{ file.file }}
        {% endautoescape %}
    </div>
    <div id="sidebar" style="display: none;">
        <button class="button" onclick="gaweg()"> x </button>
        <div id="documentation">
            Hi!
        </div>
    </div>
</div>

<input type="hidden" id="docs" name="docs" value="{{ docs }}">

    <form method="post" action="{% url 'progress' %}">
        {% csrf_token %}
        <input type="hidden" value="{{ file.path }}" name="path">
        <input type="submit" value="completed">
    </form>
    <footer>
        <button id="footer" class="button" onclick="getdocs('jitske')">Jitske</button>
    </footer>
{% endblock %}
